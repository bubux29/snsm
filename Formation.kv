#: import TabbedPanel kivy.uix.tabbedpanel

<Notebook@TabbedPanel>:
    cols: 1
    spacing: 10
    padding: 20
    do_default_tab: False
    #tab_width: self.width

<DefaultTab>:
    Image:
        source: 'static/img/logo_snsm_240x240.png'

<MenuBouton@Button>:
    size_hint: (.5,1)
    pos_hint: { 'center_x': .5 }
    canvas:
        Line:
            rectangle: self.x+1,self.y+1,self.width-1,self.height-1

<PanneauVideo>:
    camera: camera
    capture_bouton: capture_bouton
    consultation: consultation
    orientation: 'horizontal'
    BoxLayout:
        orientation: 'vertical'
        Camera:
            id: camera
            resolution: (640, 480)
            play: False
        Button:
            id: capture_bouton
            text: 'Capture'
            size_hint_y: None
            height: '48dp'
            on_press: root.capture()
    BoxLayout:
        id: consultation
        size_hint: (.3, 1)
        orientation: 'vertical'

<PanneauNote>:
    textinput: textinput
    consultation: consultation.__self__
    orientation: 'horizontal'
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            id: textinput
            multiline: True
        BoxLayout:
            size_hint: (1, .1)
            orientation: 'horizontal'
            Button:
                pos_hint: {'right': 0}
                size_hint: (.4, 1)
                text: 'Effacer'
                on_release: textinput.text=''
            Widget:
            Button:
                pos_hint: {'left': 0}
                size_hint: (.4, 1)
                text: 'Sauvegarder'
                on_release:
                    root.sauvegarde_texte()
    BoxLayout:
        id: consultation
        size_hint: (.3, 1)
        orientation: 'vertical'

<EcranEleve>:
    notebook: nb
    video: video
    Notebook:
        id: nb
        TabbedPanelItem:
            id: eval
            text: 'Evaluation'
            on_release: video.play_video(False)
        TabbedPanelItem:
            id: cours
            text: 'Cours'
            on_release: video.play_video(False)
        TabbedPanelItem:
            video: video
            text: 'Vidéo'
            on_release: video.play_video(True)
            PanneauVideo:
                name: root.name
                id: video
        TabbedPanelItem:
            id: notes
            text: 'Notes'
            on_release: video.play_video(False)
            PanneauNote:

<Formation>:
    colonne_eleves: colonne_eleves
    colonne_groupes: colonne_groupes
    scm: scm
    BoxLayout:
        id: bl
        orientation: 'horizontal'
        BoxLayout:
            id: colonne_groupes
            orientation: 'vertical'
            size_hint: (.2,1)
            Label:
                size_hint: (1,.1)
                text: 'Groupes'
        BoxLayout:
            id: colonne_eleves
            orientation: 'vertical'
            size_hint: (.2,1)
            Label:
                size_hint: (1,.1)
                text: 'Elèves'
        ScreenManager:
            id: scm
